<!DOCTYPE HTML>
<html>
	<head>
		<title>Advising - Jonas Smith</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
	</head>
	<body>

		<!-- Header -->
			<header id="header">
				<h1 name="title">MSSU Advising Appointment's</h1> <!-- MSSU ADVISING APPOINTMENT's -->
			</header>

		<!-- Signup Form -->
			<form id="signup-form">
					<script>

					var list = [
						{name : "Pinete",
						Monday : ["09:30 - 10:00", "02:00 - 02:30", "11:30 - 12:00"],
						Tuesday: [],
						Wednesday : [],
						Thursday : [],
						Friday : []
					  },
						{name : "Collins",
						Monday : ["09:30 - 10:00", "02:00 - 02:30", "11:30 - 12:00"],
						Tuesday: [],
						Wednesday : [],
						Thursday : [],
						Friday : []
					  },
						{name : "Oaks",
						Monday : ["09:30 - 10:00", "02:00 - 02:30", "11:30 - 12:00"],
						Tuesday: [],
						Wednesday : [],
						Thursday : [],
						Friday : []
					  },
						{name : "Boswell",
						Monday : ["09:30 - 10:00", "02:00 - 02:30", "11:30 - 12:00"],
						Tuesday: [],
						Wednesday : [],
						Thursday : [],
						Friday : []
					  },
						{name : "Curtis",
						Monday : ["09:30 - 10:00", "02:00 - 02:30", "11:30 - 12:00"],
						Tuesday: [],
						Wednesday : [],
						Thursday : [],
						Friday : []
					  },
					];

							function ButtonClick() {
								var e = document.getElementById("timeSelect");
								var time = e.options[e.selectedIndex].text;

								var x = document.getElementById('advSelect').value;
								var adv = parseInt(x);

								switch(document.getElementById('daySelect').value){
										case '0':
										list[adv].Monday.push(time);
										break;

										case '1':
										list[adv].Tuesday.push(time);
										break;

										case '2':
										list[adv].Wednesday.push(time);
										break;

										case '3':
										list[adv].Thursday.push(time);
										break;

										case '4':
										list[adv].Friday.push(time);
										break;
									}
								return false;
							}
					// Script needs to be inside of the form for it to work
					// this script gets the value selected and returns the data.
							function advChange() {
								switch(document.getElementById('advSelect').value){
							case '0':
								document.getElementById('phone').value ='1-417-369-2309';
								document.getElementById('email').value ='pinete@mssu.edu';
								break;
							case '1':
								document.getElementById('phone').value ='1-417-369-2310';
								document.getElementById('email').value ='collins@mssu.edu';
								break;
							case '2':
								document.getElementById('phone').value ='1-417-369-2311';
								document.getElementById('email').value ='oaks@mssu.edu';
								break;
							case '3':
								document.getElementById('phone').value ='1-417-369-2312';
								document.getElementById('email').value ='boswell@mssu.edu';
								break;
							case '4':
								document.getElementById('phone').value ='1-417-369-2313';
								document.getElementById('email').value ='curtis@mssu.edu';
								break;
							default :
								document.getElementById('phone').value ='Adviser email address';
								document.getElementById('email').value ='Office phone number';
							break;
								}
							}

							function DayChange()
							{
								if(document.getElementById('daySelect').selectedIndex !== "8")
								{
									LoadComboBoxes();
								}
							}

							function ExitMethods()
							{
								// This could refresh all code
							}


							function LoadComboBoxes()
							{
								document.getElementById("timeSelect").options.length = 0;

								var select = document.getElementById('timeSelect');

								//Create array of options to be added
								var array = ["09:00 - 09:30","09:30 - 10:00","10:00 - 10:30","10:30 - 11:00",
								             "11:00 - 11:30","11:30 - 12:00","12:00 - 12:30","12:30 - 01:00",
														 "01:00 - 01:30","01:30 - 02:00","02:00 - 02:30","02:30 - 03:00"];

								var x = document.getElementById('advSelect').value;
								var y = document.getElementById('daySelect').selectedIndex;
								var adv = parseInt(x);


								/// Loads values in time picker forwhich the time is either available or not
								switch (document.getElementById('daySelect').value) {
									case '0':
									for (var i = 0; i<=11; i++)
									{
										var isChecked = false;
										for(var j = 0; j < list[adv].Monday.length; j++)
										{
											if (list[adv].Monday[j] == array[i])
											{
												var opt = document.createElement('option');
												opt.value = i;
												opt.style="color:green";
												opt.style="background-color: Orange";
												opt.disabled = true;
												opt.innerHTML = array[i] + " - Unavailable";
												select.appendChild(opt);
												isChecked = true;
											}
										}
										if(isChecked == false)
										{
											var opt = document.createElement('option');
											opt.value = i;
											opt.style="color:grey";
											opt.innerHTML = array[i];
											select.appendChild(opt);
										}
									}
									break;

									case '1':
									for (var i = 0; i<=11; i++)
									{
										var isChecked = false;
										for(var j = 0; j < list[adv].Tuesday.length; j++)
										{
											if (list[adv].Tuesday[j] == array[i])
											{
												var opt = document.createElement('option');
												opt.value = i;
												opt.style="color:green";
												opt.style="background-color: Orange";
												opt.disabled = true;
												opt.innerHTML = array[i] + " - Unavailable";
												select.appendChild(opt);
												isChecked = true;
											}
										}
										if(isChecked == false)
										{
											var opt = document.createElement('option');
											opt.value = i;
											opt.style="color:grey";
											opt.innerHTML = array[i];
											select.appendChild(opt);
										}
									}
									break;

									case '2':
									for (var i = 0; i<=11; i++)
									{
										var isChecked = false;
										for(var j = 0; j < list[adv].Wednesday.length; j++)
										{
											if (list[adv].Wednesday[j] == array[i])
											{
												var opt = document.createElement('option');
												opt.value = i;
												opt.style="color:green";
												opt.style="background-color: Orange";
												opt.disabled = true;
												opt.innerHTML = array[i] + " - Unavailable";
												select.appendChild(opt);
												isChecked = true;
											}
										}
										if(isChecked == false)
										{
											var opt = document.createElement('option');
											opt.value = i;
											opt.style="color:grey";
											opt.innerHTML = array[i];
											select.appendChild(opt);
										}
									}
									break;

									case '3':
									for (var i = 0; i<=11; i++)
									{
										var isChecked = false;
										for(var j = 0; j < list[adv].Thursday.length; j++)
										{
											if (list[adv].Thursday[j] == array[i])
											{
												var opt = document.createElement('option');
												opt.value = i;
												opt.style="color:green";
												opt.style="background-color: Orange";
												opt.disabled = true;
												opt.innerHTML = array[i] + " - Unavailable";
												select.appendChild(opt);
												isChecked = true;
											}
										}
										if(isChecked == false)
										{
											var opt = document.createElement('option');
											opt.value = i;
											opt.style="color:grey";
											opt.innerHTML = array[i];
											select.appendChild(opt);
										}
									}
									break;

									case '4':
									for (var i = 0; i<=11; i++)
									{
										var isChecked = false;
										for(var j = 0; j < list[adv].Friday.length; j++)
										{
											if (list[adv].Friday[j] == array[i])
											{
												var opt = document.createElement('option');
												opt.value = i;
												opt.style="color:green";
												opt.style="background-color: Orange";
												opt.disabled = true;
												opt.innerHTML = array[i] + " - Unavailable";
												select.appendChild(opt);
												isChecked = true;
											}
										}
										if(isChecked == false)
										{
											var opt = document.createElement('option');
											opt.value = i;
											opt.style="color:grey";
											opt.innerHTML = array[i];
											select.appendChild(opt);
										}
									}
									break;
								}
							}

						</script>
				<select style="width: 200px" id="advSelect" onchange="advChange()">
					<option style="color:gray" >Adviser</option>
					<option style="color:gray" value="0" >Pinete</option>
					<option style="color:gray" value="1" >Collins</option>
					<option style="color:gray" value="2" >Oaks</option>
					<option style="color:gray" value="3" >Boswell</option>
					<option style="color:gray" value="4" >Curtis</option>
				</select>
				<input type="email" id="email" style="width: 250px" placeholder="Adviser email address" />
				<input type="text" name="phone" id="phone" placeholder="Office phone number" />
			</form>

			<form id="signup-form">
				&nbsp &nbsp &nbsp

				<select style="width: 200px" id="daySelect" onchange="DayChange()">
					<option style="color:gray" value="8"> Day </option>
					<option style="color:gray" value="0"> Monday</option>
					<option style="color:gray" value="1"> Tuesday</option>
					<option style="color:gray" value="2"> Wednesday</option>
					<option style="color:gray" value="3"> Thursday</option>
					<option style="color:gray" value="4"> Friday</option>
				</select>

				<!-- https://stackoverflow.com/questions/196498/how-do-i-load-the-contents-of-a-text-file-into-a-javascript-variable -->

				<select style="width: 250px" id="timeSelect">
					<option> Time </option>
					<!--
					<option style="color:gray" value="Pinete">02:00 - 02:30 </option>
					<option style="color:gray" value="Pinete">02:30 - 03:00 </option> -->
				</select>

				<input type="text" id="name" placeholder=" Your name" />
				<input type="submit" onclick="return ButtonClick()" value="Submit appointment" />
			</form>

		<!-- Footer -->
			<footer id="footer">
				<ul class="copyright">
					<li>&copy; Jonas Smith</li>
				</ul>
			</footer>

		<!-- Scripts -->
			<script src="assets/js/main.js"></script>
	</body>
</html>
